#! /usr/bin/env python
import sys
import _mypath
from drinkz.load_bulk_data import load_inventory
from drinkz.load_bulk_data import load_bottle_types

def main(args):
   if len(args) != 3:
	  print >>sys.stderr, 'Usage: %s file_to_load.csv'
	  return -1

   bottleTypes = args[1]
   inv = args[2]

   fp_types = open(bottleTypes)
   fp_inv = open(inv)
   
   try:
	   p = load_bottle_types(fp_types)
   finally:
	   fp_types.close()

	   
   print 'loaded %d types.' % p 
		
	
   try:
	  n = load_inventory(fp_inv)
   finally:
	  fp_inv.close()

   print 'Loaded %d bottle items.' % n
   return 0

# run the 'main()' function if this script is run from the command line;
# this will not execute if the file is imported.
#
# pass in command line arguments verbatim, as a list.

if __name__ == '__main__':
   exit_code = main(sys.argv)
   sys.exit(exit_code)